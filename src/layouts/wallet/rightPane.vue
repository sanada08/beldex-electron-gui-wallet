<template>
  <section>
    <article>
      <div class="userName">{{ info.name }}</div>

      <div class="sub-txt ">
        {{ this.$t("fieldLabels.totalBalance")
        }}<q-icon class="q-ml-xs" name="o_info" size="14px" color="#A9A9CD" />
      </div>
      <div class="balance">
        {{ (info.balance / 1e9).toFixed(3) }}<span>BDX</span>
      </div>
    </article>
    <article class="flex justify-evenly q-mt-md">
      <!-- <article class="flex  q-mt-md"> -->

      <!-- <router-link to="/wallet/send"> -->
      <div :class="[this.routes === 'send' ? 'active' : '']">
        <!-- <q-btn class="large-btn send-btn" size="md" @click="router('send')"> -->
        <q-btn class="large-btn send-btn" @click="router('send')">
          <!-- width="16"
            height="20" -->
          <svg
            class="icon"
            viewBox="0 0 16 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.289064 6.61106C0.0558891 6.88987 0.0586794 7.34525 0.295297 7.62817C0.334142 7.67441 0.377977 7.71422 0.425604 7.74651C0.426714 7.74719 0.427825 7.74786 0.428939 7.74853L3.71653 10.7093L3.3068 13.2484L13.0299 3.67152L5.02053 15.2975L7.144 14.8076L9.62101 18.7396C9.64809 18.7976 9.68168 18.8511 9.72083 18.8984C9.95745 19.1813 10.3383 19.1846 10.5715 18.9058C10.6273 18.8383 10.6711 18.758 10.7004 18.6696L10.7021 18.6696L10.711 18.6369L10.7159 18.621C10.717 18.6164 10.7181 18.6118 10.7192 18.6072L15.2786 1.92726L15.2777 1.92427C15.3658 1.65816 15.3119 1.3526 15.1409 1.14737C14.9689 0.94202 14.7125 0.877606 14.4895 0.983742L14.4886 0.982741L14.4878 0.983727L0.543811 6.43253C0.524437 6.43882 0.505354 6.44628 0.486633 6.45487C0.412525 6.49049 0.345349 6.5436 0.289064 6.61106Z"
              fill="white"
            />
          </svg>
          <!-- <span class="btn-txt">{{ $t("buttons.send") }}</span> -->
          <span class="btn-txt">Send</span>
        </q-btn>
      </div>
      <!-- </router-link> -->
      <!-- <router-link to="/wallet/receive"> -->
      <div :class="[this.routes === 'receive' ? 'active' : '']">
        <q-btn class="large-btn send-btn" @click="router('receive')">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 96 960 960"
            class="icon"
          >
            <path
              d="M220 896q-24 0-42-18t-18-42V693h60v143h520V693h60v143q0 24-18 42t-42 18H220Zm260-153L287 550l43-43 120 120V256h60v371l120-120 43 43-193 193Z"
              fill="white"
            />
          </svg>
          <!-- <span class="btn-txt">{{ $t("buttons.receive") }}</span> -->
          <span class="btn-txt">Receive</span>
        </q-btn>
      </div>
      <div :class="[this.routes === 'address' ? 'active' : '']">
        <!-- <router-link to="/wallet/addressbook" > -->
        <q-btn
          class="large-btn addressbook-btn"
          size="md"
          @click="router('address')"
        >
          <svg
            width="21"
            height="21"
            viewBox="0 0 21 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M4.98128 0.440674C3.30463 0.440674 1.92754 1.80477 1.92754 3.4656V3.7406H1.0947C0.98434 3.73905 0.874769 3.75925 0.772356 3.80001C0.669944 3.84078 0.576731 3.9013 0.498137 3.97806C0.419542 4.05482 0.357132 4.14629 0.314534 4.24715C0.271936 4.34801 0.25 4.45625 0.25 4.56558C0.25 4.67491 0.271936 4.78315 0.314534 4.88401C0.357132 4.98487 0.419542 5.07634 0.498137 5.1531C0.576731 5.22986 0.669944 5.29038 0.772356 5.33114C0.874769 5.37191 0.98434 5.39211 1.0947 5.39056H4.42606C4.53642 5.39211 4.64599 5.37191 4.7484 5.33114C4.85081 5.29038 4.94403 5.22986 5.02262 5.1531C5.10122 5.07634 5.16363 4.98487 5.20622 4.88401C5.24882 4.78315 5.27076 4.67491 5.27076 4.56558C5.27076 4.45625 5.24882 4.34801 5.20622 4.24715C5.16363 4.14629 5.10122 4.05482 5.02262 3.97806C4.94403 3.9013 4.85081 3.84078 4.7484 3.80001C4.64599 3.75925 4.53642 3.73905 4.42606 3.7406H3.59322V3.4656C3.59322 2.6966 4.20495 2.09064 4.98128 2.09064H17.1963C17.9726 2.09064 18.5843 2.6966 18.5843 3.4656V17.7653C18.5843 18.5343 17.9726 19.1402 17.1963 19.1402H4.98128C4.20495 19.1402 3.59322 18.5343 3.59322 17.7653V16.9403H4.42606C4.53642 16.9418 4.64599 16.9216 4.7484 16.8809C4.85081 16.8401 4.94403 16.7796 5.02262 16.7028C5.10122 16.6261 5.16363 16.5346 5.20622 16.4337C5.24882 16.3329 5.27076 16.2246 5.27076 16.1153C5.27076 16.006 5.24882 15.8977 5.20622 15.7969C5.16363 15.696 5.10122 15.6046 5.02262 15.5278C4.94403 15.451 4.85081 15.3905 4.7484 15.3497C4.64599 15.309 4.53642 15.2888 4.42606 15.2903H3.59322V14.1904H1.92754V15.2903H1.0947C0.98434 15.2888 0.874769 15.309 0.772356 15.3497C0.669944 15.3905 0.576731 15.451 0.498137 15.5278C0.419542 15.6046 0.357132 15.696 0.314534 15.7969C0.271936 15.8977 0.25 16.006 0.25 16.1153C0.25 16.2246 0.271936 16.3329 0.314534 16.4337C0.357132 16.5346 0.419542 16.6261 0.498137 16.7028C0.576731 16.7796 0.669944 16.8401 0.772356 16.8809C0.874769 16.9216 0.98434 16.9418 1.0947 16.9403H1.92754V17.7653C1.92754 19.4261 3.30463 20.7902 4.98128 20.7902H17.1963C18.8729 20.7902 20.25 19.4261 20.25 17.7653V3.4656C20.25 1.80477 18.8729 0.440674 17.1963 0.440674H4.98128ZM7.75741 3.7406C7.53654 3.74062 7.32472 3.82754 7.16853 3.98225C7.01235 4.13696 6.9246 4.34679 6.92457 4.56558V8.41549C6.9246 8.63428 7.01235 8.8441 7.16853 8.99881C7.32472 9.15352 7.53654 9.24045 7.75741 9.24047H14.9754C15.1962 9.24045 15.4081 9.15352 15.5642 8.99881C15.7204 8.8441 15.8082 8.63428 15.8082 8.41549V4.56558C15.8082 4.34679 15.7204 4.13696 15.5642 3.98225C15.4081 3.82754 15.1962 3.74062 14.9754 3.7406H7.75741ZM8.59025 5.39056H14.1425V7.59051H8.59025V5.39056ZM1.92754 6.49053V7.59051H1.0947C0.98434 7.58896 0.874769 7.60916 0.772356 7.64992C0.669944 7.69069 0.576731 7.75121 0.498137 7.82797C0.419542 7.90473 0.357132 7.9962 0.314534 8.09706C0.271936 8.19792 0.25 8.30616 0.25 8.41549C0.25 8.52482 0.271936 8.63306 0.314534 8.73392C0.357132 8.83478 0.419542 8.92625 0.498137 9.00301C0.576731 9.07977 0.669944 9.14029 0.772356 9.18105C0.874769 9.22182 0.98434 9.24202 1.0947 9.24047H4.42606C4.53642 9.24202 4.64599 9.22182 4.7484 9.18105C4.85081 9.14029 4.94403 9.07977 5.02262 9.00301C5.10122 8.92625 5.16363 8.83478 5.20622 8.73392C5.24882 8.63306 5.27076 8.52482 5.27076 8.41549C5.27076 8.30616 5.24882 8.19792 5.20622 8.09706C5.16363 7.9962 5.10122 7.90473 5.02262 7.82797C4.94403 7.75121 4.85081 7.69069 4.7484 7.64992C4.64599 7.60916 4.53642 7.58896 4.42606 7.59051H3.59322V6.49053H1.92754ZM1.92754 10.3404V11.4404H1.0947C0.98434 11.4389 0.874769 11.4591 0.772356 11.4998C0.669944 11.5406 0.576731 11.6011 0.498137 11.6779C0.419542 11.7546 0.357132 11.8461 0.314534 11.947C0.271936 12.0478 0.25 12.1561 0.25 12.2654C0.25 12.3747 0.271936 12.483 0.314534 12.5838C0.357132 12.6847 0.419542 12.7762 0.498137 12.8529C0.576731 12.9297 0.669944 12.9902 0.772356 13.031C0.874769 13.0717 0.98434 13.0919 1.0947 13.0904H4.42606C4.53642 13.0919 4.64599 13.0717 4.7484 13.031C4.85081 12.9902 4.94403 12.9297 5.02262 12.8529C5.10122 12.7762 5.16363 12.6847 5.20622 12.5838C5.24882 12.483 5.27076 12.3747 5.27076 12.2654C5.27076 12.1561 5.24882 12.0478 5.20622 11.947C5.16363 11.8461 5.10122 11.7546 5.02262 11.6779C4.94403 11.6011 4.85081 11.5406 4.7484 11.4998C4.64599 11.4591 4.53642 11.4389 4.42606 11.4404H3.59322V10.3404H1.92754ZM7.75741 11.4404C7.64705 11.4389 7.53748 11.4591 7.43507 11.4998C7.33266 11.5406 7.23944 11.6011 7.16085 11.6779C7.08225 11.7546 7.01985 11.8461 6.97725 11.947C6.93465 12.0478 6.91271 12.1561 6.91271 12.2654C6.91271 12.3747 6.93465 12.483 6.97725 12.5838C7.01985 12.6847 7.08225 12.7762 7.16085 12.8529C7.23944 12.9297 7.33266 12.9902 7.43507 13.031C7.53748 13.0717 7.64705 13.0919 7.75741 13.0904H14.9754C15.0857 13.0919 15.1953 13.0717 15.2977 13.031C15.4001 12.9902 15.4933 12.9297 15.5719 12.8529C15.6505 12.7762 15.7129 12.6847 15.7555 12.5838C15.7981 12.483 15.8201 12.3747 15.8201 12.2654C15.8201 12.1561 15.7981 12.0478 15.7555 11.947C15.7129 11.8461 15.6505 11.7546 15.5719 11.6779C15.4933 11.6011 15.4001 11.5406 15.2977 11.4998C15.1953 11.4591 15.0857 11.4389 14.9754 11.4404H7.75741ZM7.75741 15.2903C7.64705 15.2888 7.53748 15.309 7.43507 15.3497C7.33266 15.3905 7.23944 15.451 7.16085 15.5278C7.08225 15.6046 7.01985 15.696 6.97725 15.7969C6.93465 15.8977 6.91271 16.006 6.91271 16.1153C6.91271 16.2246 6.93465 16.3329 6.97725 16.4337C7.01985 16.5346 7.08225 16.6261 7.16085 16.7028C7.23944 16.7796 7.33266 16.8401 7.43507 16.8809C7.53748 16.9216 7.64705 16.9418 7.75741 16.9403H14.9754C15.0857 16.9418 15.1953 16.9216 15.2977 16.8809C15.4001 16.8401 15.4933 16.7796 15.5719 16.7028C15.6505 16.6261 15.7129 16.5346 15.7555 16.4337C15.7981 16.3329 15.8201 16.2246 15.8201 16.1153C15.8201 16.006 15.7981 15.8977 15.7555 15.7969C15.7129 15.696 15.6505 15.6046 15.5719 15.5278C15.4933 15.451 15.4001 15.3905 15.2977 15.3497C15.1953 15.309 15.0857 15.2888 14.9754 15.2903H7.75741Z"
              fill="white"
            />
          </svg>
        </q-btn>
        <!-- </router-link> -->
      </div>
    </article>
    <div class="hr-separator" />
    <article class="rightpane-nav-view">
      <keep-alive>
        <div v-if="this.routes === 'send'" style="margin-right:4px;">
          <Send />
        </div>
        <div v-else-if="this.routes === 'receive'">
          <Receive />
        </div>
        <div v-else style="margin-right:4px;">
          <Adressbook />
        </div>
        <!-- <router-view /> -->
      </keep-alive>
    </article>
  </section>
</template>

<script>
import { mapState } from "vuex";
import Send from "pages/wallet/send";
import Receive from "pages/wallet/receive";
import Adressbook from "pages/wallet/addressbook.vue";
import { Gateway } from "../../gateway/gateway";

export default {
  name: "RightPane",
  components: {
    Send,
    Receive,
    Adressbook
  },
  computed: mapState({
    info: state => state.gateway.wallet.info,
    routes: state => state.gateway.router_path_rightpane
  }),
  data() {
    return {
      // routes: "send",
      gateway: new Gateway()
    };
  },

  methods: {
    router: function(e) {
      this.$gateway.send("wallet", "set_sender_address", {
        data: ""
      });
      this.$gateway.send("wallet", "set_router_path_rightpane", { data: e });
    }
  }
};
</script>

<style lang="scss">
.rightpane-nav-view {
  height: 65vh;
  overflow: auto;
}
@media only screen and (max-height: 780px) {
  .rightpane-nav-view {
    height: 59vh;
  }
}
</style>
